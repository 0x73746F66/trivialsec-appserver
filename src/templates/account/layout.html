<!DOCTYPE html>
<html lang="en">  
    <head>    
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Trivial Security{% if page_title %} - {{ page_title }}{% endif %}</title>
        {% if css_includes %}
        {% for css_include in css_includes %}
        <link rel= "stylesheet" type= "text/css" href="{{ asset_url }}/styles/{{ css_include }}" />
        {% endfor %}
        {% endif %}
        <link rel="apple-touch-icon" sizes="180x180" href="{{ asset_url }}/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="{{ asset_url }}/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="{{ asset_url }}/images/favicon-16x16.png">
        <link rel="mask-icon" href="{{ asset_url }}/images/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="{{ asset_url }}/favicon.ico">
        <meta name="msapplication-TileColor" content="#494949">
        <meta name="msapplication-config" content="{{ asset_url }}/browserconfig.xml">
        <meta name="theme-color" content="#1ABB9C">
        <meta name="application-name" content="Trivial Security"
            data-recaptcha-site-key="{{ recaptcha_site_key }}"
            data-domain-name="{{ app_domain }}"
            data-domain-scheme="{{ app_scheme }}"
            data-websocket-domain="{{ socket_domain }}"
            data-websocket-scheme="{{ socket_scheme }}"
            data-api-domain="{{ api_domain }}"
            data-api-scheme="{{ api_scheme }}"
        {% if stripe_publishable_key %}
            data-stripe-publishable-key="{{ stripe_publishable_key }}"
        {% endif %}
        {% if account %}
            data-account-id="{{ account.account_id }}"
            data-account-email="{{ account.email }}"
        {% endif %}
        {% if account.u2f_keys %}
            data-keys="{{ account.u2f_keys | to_json }}"
        {% endif %}
        {% if account.totp_mfa_id %}
            data-mfa-id="{{ account.totp_mfa_id }}"
        {% endif %}
        {% if account.apikey %}
            data-api-key-id="{{ account.apikey.api_key }}"
        {% endif %}>
        <script type=text/javascript src="{{ asset_url }}/js/vendor/micromustache.umd.8.0.3.min.js"></script>
        <script type=text/javascript src="{{ asset_url }}/js/site.min.js"></script>
        {% if js_includes %}
        {% for js_include in js_includes %}
        <script type=text/javascript src="{{ asset_url }}/js/{{ js_include }}"></script>
        {% endfor %}
        {% endif %}
    </head>
    <body class="sidenav-closed">
    {% include 'account/navbar.html' %}
    <template id="tmpl-toast">{% raw %}
        <div id="{{ uid }}" class="toast toast--active toast--{{ type }}" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast__icon">
                <img src="{% endraw %}{{ asset_url }}{% raw %}/images/icon-{{ type }}-white.svg" alt />
            </div>
            <div class="toast__content">
                <h2>{{ heading }}</h2>
                <p class="alert">{{ message }}</p>
            </div>
        </div>{% endraw %}
    </template>
    <section class="toast__container">
        {% if info %}
        <div id="alert-info" class="toast toast--active" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast__icon">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path>
                </svg>
            </div>
            <div class="toast__content">
                <h2>Information</h2>
                <p class="alert">{{ info }}</p>
            </div>
        </div>
        {% endif %}
        {% if error %}
        <div id="alert-error" class="toast toast--active toast--warning" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast__icon">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exclamation-circle" class="svg-inline--fa fa-exclamation-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor" d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"></path>
                </svg>
            </div>
            <div class="toast__content">
                <h2>Error</h2>
                <p class="alert">{{ error }}</p>
            </div>
        </div>
        {% endif %}
        {% if success %}
        <div id="alert-success" class="toast toast--active toast--success" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast__icon">    
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check-circle" class="svg-inline--fa fa-check-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"></path>
                </svg>
            </div>
            <div class="toast__content">
                <h2>Success</h2>
                <p class="alert">{{ success }}</p>
            </div>
        </div>
        {% endif %}
    </section>
    <div class="container">
        {% block body %}{% endblock %}
        {% if account.is_authenticated %}
        <input name="socketio_token" type="hidden" value="{{ account.account.socket_key }}"/>
        <script type=text/javascript src="{{ asset_url }}/js/vendor/socket.io.2.3.0.min.js"></script>
        {% endif %}
    </div>
    </body>
</html>